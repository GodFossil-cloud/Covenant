/* Dock mask geometry fix (motion states only)
   - Restores a true semicircle cutout (no sharp side vertices) by using a fixed radius.
   - Lowers the cutout slightly (bottom edge was riding too high).

   Scope: only affects toc-opening/toc-closing and reliquary-opening/reliquary-closing.
*/

html.toc-opening,
html.toc-closing,
html.reliquary-opening,
html.reliquary-closing{
  /* Keep the window box close to the socket geometry; the circle radius below defines the actual cut. */
  --dock-window-h:calc(var(--dock-socket-h) + 2px);

  /* Ease the cutout downward a touch (was over-lifted). */
  --dock-window-y-shift:-5px;
}

@supports (-webkit-mask-image: linear-gradient(#000 0 0)){
  html.toc-opening .nav-footer::before,
  html.toc-opening .nav-footer::after,
  html.toc-closing .nav-footer::before,
  html.toc-closing .nav-footer::after,
  html.reliquary-opening .nav-footer::before,
  html.reliquary-opening .nav-footer::after,
  html.reliquary-closing .nav-footer::before,
  html.reliquary-closing .nav-footer::after{
    -webkit-mask-image:
      linear-gradient(#000 0 0),
      radial-gradient(circle var(--dock-socket-r) at 50% 0, #000 99%, transparent 100%);
  }
}

@supports (mask-image: linear-gradient(#000 0 0)){
  html.toc-opening .nav-footer::before,
  html.toc-opening .nav-footer::after,
  html.toc-closing .nav-footer::before,
  html.toc-closing .nav-footer::after,
  html.reliquary-opening .nav-footer::before,
  html.reliquary-opening .nav-footer::after,
  html.reliquary-closing .nav-footer::before,
  html.reliquary-closing .nav-footer::after{
    mask-image:
      linear-gradient(#000 0 0),
      radial-gradient(circle var(--dock-socket-r) at 50% 0, #000 99%, transparent 100%);
  }
}
