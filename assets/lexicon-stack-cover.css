/* Lexicon seal cover rules (ui-stack + translucency fix).

   Context:
   - assets/ui-stack.js assigns z-index to modal surfaces starting at Z_BASE=1500.
   - The footer dock remains sovereign (higher z-index) and can visually sit above scrims.
   - When Lexicon is open and another surface (ToC/Reliquary) becomes topmost, ui-stack.js
     toggles `.is-ui-stack-covered` on #lexiconToggle.

   Important update (Option B):
   - The seal may be re-parented into the Lexicon panel header while the panel is open.
     Therefore, cover rules MUST NOT depend on #navFooter ancestry.

   Why hide (not just z-index):
   - ToC/Reliquary overlays are intentionally translucent.
     If the seal is merely "behind" them, it can still be visible through the veil.

   Fix:
   - When covered, fully hide the seal so it cannot read through translucent overlays.
   - Also set a low z-index as a backstop for states where visibility is overridden.
*/

#lexiconToggle.is-ui-stack-covered{
  /* Backstop: keep below ui-stack surfaces (Z_BASE=1500). */
  position: relative;
  z-index: 1490 !important;

  /* Primary: remove it entirely from the painted stack so it cannot show through veils. */
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;

  /* Avoid any accidental compositing artifacts. */
  filter: none !important;
}
