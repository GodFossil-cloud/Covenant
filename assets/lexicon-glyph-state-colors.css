/* Lexicon glyph state colors (Palette B)

   Goals:
   - Fully open (panel open): glyph uses embedded brass-gold.
   - Passage selected (while closed): glyph becomes antique leaf and reads more "set apart".
   - Passage selected + fully open: glyph becomes an embedded leaf-inlay tone (no neon/aqua).

   Notes:
   - Open/fully-open glow suppression is handled elsewhere.
   - We *do* override the selected-at-rest quiet halo token here so it is visible across displays.
   - Excludes locked/disabled state so locked press/pulse can still go black.
   - "Open" is detected via aria-expanded="true" (works with shared UI stack mode).
*/

:root{
  /* Reuse the footer's brass-gold token so we stay aligned with the dock palette. */
  --lexicon-glyph-open-color-b: var(--lexicon-glyph-open-color, rgba(242,220,154,0.98));

  --lexicon-glyph-selected-color-b: #F2DC9A; /* antique leaf */
  --lexicon-glyph-selected-open-color-b: #D8C07A; /* embedded leaf-inlay (open + selected) */

  /* Stronger at-rest distinction for selected+closed.
     (footer-overrides.css consumes this token for the selected+closed text-shadow.) */
  --lexicon-glyph-selected-quiet-halo-shadow:
    0 1px 0 rgba(0,0,0,0.94),
    0 -1px 0 rgba(255,255,255,0.14),
    0 0 12px rgba(255,255,255,0.12),
    0 0 22px rgba(242,220,154,0.34),
    0 0 46px rgba(242,220,154,0.16);
}

/* Fully open, no selection */
#navFooter #lexiconToggle[aria-expanded="true"]:not(.has-selection):not(.is-lexicon-locked):not([data-lexicon-locked="true"]) .lexicon-glyph,
#navFooter #lexiconToggle[aria-expanded="true"]:not(.has-selection):not(.is-lexicon-locked):not([data-lexicon-locked="true"]) .lexicon-glyph-mid-inner{
  color: var(--lexicon-glyph-open-color-b) !important;
}

/* Selected, panel closed */
#navFooter #lexiconToggle.has-selection:not([aria-expanded="true"]):not(.is-lexicon-locked):not([data-lexicon-locked="true"]) .lexicon-glyph,
#navFooter #lexiconToggle.has-selection:not([aria-expanded="true"]):not(.is-lexicon-locked):not([data-lexicon-locked="true"]) .lexicon-glyph-mid-inner{
  color: var(--lexicon-glyph-selected-color-b) !important;
}

/* Selected + fully open */
#navFooter #lexiconToggle[aria-expanded="true"].has-selection:not(.is-lexicon-locked):not([data-lexicon-locked="true"]) .lexicon-glyph,
#navFooter #lexiconToggle[aria-expanded="true"].has-selection:not(.is-lexicon-locked):not([data-lexicon-locked="true"]) .lexicon-glyph-mid-inner{
  color: var(--lexicon-glyph-selected-open-color-b) !important;
}
